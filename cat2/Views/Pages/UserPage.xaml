<Page x:Class="CAT2.Views.Pages.UserPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      xmlns:vm="clr-namespace:CAT2.ViewModels">

    <Page.DataContext>
        <vm:UserPageViewModel />
    </Page.DataContext>

    <ui:CardControl
        Margin="20"
        BorderThickness="1"
        VerticalAlignment="Center"
        HorizontalAlignment="Stretch">
        <ui:CardControl.Header>
            <StackPanel
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Margin="45,0,0,0"
                Orientation="Vertical">
                <ui:Image
                    VerticalContentAlignment="Center"
                    Width="200" Height="200"
                    Source="{Binding CurrentImage}"
                    CornerRadius="100"
                    ClipToBounds="True">
                    <ui:Image.Effect>
                        <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2" />
                    </ui:Image.Effect>
                </ui:Image>

                <ui:TextBlock
                    Text="{Binding Name}"
                    FontTypography="Title"
                    HorizontalAlignment="Center"
                    Margin="0,25,0,0" />
            </StackPanel>

        </ui:CardControl.Header>

        <StackPanel
            Margin="20,10,20,30"
            VerticalAlignment="Top">
            <ui:CardControl
                Padding="8,8,10,8"
                Header="{Binding Email}"
                Icon="{ui:SymbolIcon Mail48}" />
            
            <ui:CardControl
                Padding="8,8,10,8"
                Header="{Binding Qq}"
                Icon="{ui:SymbolIcon QrCode28}" />

            <ui:CardControl
                Padding="8,8,10,8"
                Header="{Binding Usergroup}"
                Icon="{ui:SymbolIcon ContactCard48}" />
            
            <ui:CardControl
                Padding="8,8,10,8"
                Header="{Binding  TunnelCount}"
                Icon="{ui:SymbolIcon TextGrammarArrowRight24}" />
            
            <ui:CardControl
                Padding="8,8,10,8"
                Header="{Binding  Integral}"
                Icon="{ui:SymbolIcon BoxMultiple24}" />

            <ui:CardControl
                Padding="8,8,10,8"
                Header="{Binding  Bandwidth}"
                Icon="{ui:SymbolIcon  TextGrammarArrowLeft24}" />
            
            <StackPanel
                Margin="0,20,0,0"
                Orientation="Horizontal">
                <ui:Button
                    HorizontalAlignment="Center"
                    Content="刷新信息"
                    Icon="{ui:SymbolIcon ArrowClockwise48}"
                    Padding="20,8"
                    Margin="0,0,8,0"
                    IsEnabled="{Binding IsLoadedEnabled}"
                    Command="{Binding LoadedCommand}"/>
                <ui:Button
                    Appearance="Primary"
                    Icon="{ui:SymbolIcon ArrowCircleUpLeft24}"
                    Content="退出登录"
                    HorizontalAlignment="Center"
                    Padding="20,8"
                    Command="{Binding SignOutCommand}"/>
            </StackPanel>
        </StackPanel>
    </ui:CardControl>
</Page>